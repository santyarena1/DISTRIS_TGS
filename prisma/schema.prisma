datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// Tabla para New Bytes 
model NewBytesProduct {
  id                        Int      @id @default(autoincrement())
  codigo                    String   @map("CODIGO")
  id_fabricante             String?  @map("ID FABRICANTE")
  categoria                 String?  @map("CATEGORIA")
  detalle                   String?  @map("DETALLE")
  imagen                    String?  @map("IMAGEN")
  iva                       String?  @map("IVA")
  stock                     String?  @map("STOCK")
  garantia                  String?  @map("GARANTIA")
  moneda                    String?  @map("MONEDA")
  precio                    String?  @map("PRECIO")
  precio_final              String?  @map("PRECIO FINAL")
  cotizacion_dolar          String?  @map("COTIZACION DOLAR")
  precio_pesos_sin_iva      String?  @map("PRECIO PESOS SIN IVA")
  precio_pesos_con_iva      String?  @map("PRECIO PESOS CON IVA")
  atributos                 String?  @map("ATRIBUTOS")
  precio_usd_con_utilidad   String?  @map("PRECIO USD CON UTILIDAD")
  precio_pesos_con_utilidad String?  @map("PRECIO PESOS CON UTILIDAD")
  categoria_usuario         String?  @map("CATEGORIA_USUARIO")
  utilidad                  String?  @map("UTILIDAD")
  detalle_usuario           String?  @map("DETALLE_USUARIO")
  peso                      String?  @map("PESO")
  alto                      String?  @map("ALTO")
  ancho                     String?  @map("ANCHO")
  largo                     String?  @map("LARGO")
  impuesto_interno          String?  @map("IMPUESTO_INTERNO")
  marca                     String?  @map("MARCA")
  raw_data                  String
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @updatedAt
}

model GrupoNucleoProduct {
  id          Int     @id @default(autoincrement())

  // ✅ ESTE ES EL ID REAL DE GRUPO NUCLEO
  item_id     Int     @unique

  codigo      String

  item_desc_0 String?
  item_desc_1 String?
  item_desc_2 String?

  marca       String?
  categoria   String?

  stock       String?
  precio      String?
  moneda      String?

  raw_data    String

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}


model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String?
  role      String   @default("admin")
  createdAt DateTime @default(now())
}

model TgsProduct {
  id              Int      @id @default(autoincrement())
  externalId      Int?     // id numérico del feed (ej 6780)
  name            String   // nombre del producto
  manufacturerSku String?  // código de fabricante (ej 910-007530)
  imageUrl        String?  // url de imagen
  category        String?  // categoría (Mouse, Gabinetes, etc.)
  status          String?  // 'in_stock' | 'out_of_stock'
  price           Decimal? // precio en ARS (Prisma acepta number)
  currency        String?  @default("ARS")
  internalSku     String?  @unique // IC_910-007530, NB_..., etc.
  stock           Int?     @default(0)

  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}


model ElitProduct {
  id                     Int      @id @default(autoincrement())
  elitId                 Int      @unique        // id (código único ELIT)
  codigoAlfa             String?                  // codigo_alfa
  codigoProducto         String?                  // codigo_producto / SKU
  nombre                 String                   // nombre
  categoria              String?                  // categoria
  subCategoria           String?                  // sub_categoria
  marca                  String?                  // marca
  precio                 Decimal?                 // precio (costo sin impuestos)
  impuestoInterno        Decimal?                 // impuesto_interno
  iva                    Decimal?                 // iva
  moneda                 Int?                     // moneda (1: ARS, 2: USD)
  markup                 Decimal?                 // markup
  cotizacion             Decimal?                 // cotizacion
  pvpUsd                 Decimal?                 // pvp_usd
  pvpArs                 Decimal?                 // pvp_ars
  peso                   Float?                   // peso
  ean                    String?                  // ean
  nivelStock             String?                  // nivel_stock (bajo/alto)
  stockTotal             Int?                     // stock_total
  stockDepositoCliente   Int?                     // stock_deposito_cliente
  stockDepositoCd        Int?                     // stock_deposito_cd
  garantia               String?                  // garantia
  link                   String?                  // link
  gamer                  Boolean?                 // gamer
  creado                 DateTime?                // creado
  actualizado            DateTime?                // actualizado

  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}
