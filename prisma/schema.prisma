datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// Tabla para New Bytes 
model NewBytesProduct {
  id                        Int      @id @default(autoincrement())
  codigo                    String   @map("CODIGO")
  id_fabricante             String?  @map("ID FABRICANTE")
  categoria                 String?  @map("CATEGORIA")
  detalle                   String?  @map("DETALLE")
  imagen                    String?  @map("IMAGEN")
  iva                       String?  @map("IVA")
  stock                     String?  @map("STOCK")
  garantia                  String?  @map("GARANTIA")
  moneda                    String?  @map("MONEDA")
  precio                    String?  @map("PRECIO")
  precio_final              String?  @map("PRECIO FINAL")
  cotizacion_dolar          String?  @map("COTIZACION DOLAR")
  precio_pesos_sin_iva      String?  @map("PRECIO PESOS SIN IVA")
  precio_pesos_con_iva      String?  @map("PRECIO PESOS CON IVA")
  atributos                 String?  @map("ATRIBUTOS")
  precio_usd_con_utilidad   String?  @map("PRECIO USD CON UTILIDAD")
  precio_pesos_con_utilidad String?  @map("PRECIO PESOS CON UTILIDAD")
  categoria_usuario         String?  @map("CATEGORIA_USUARIO")
  utilidad                  String?  @map("UTILIDAD")
  detalle_usuario           String?  @map("DETALLE_USUARIO")
  peso                      String?  @map("PESO")
  alto                      String?  @map("ALTO")
  ancho                     String?  @map("ANCHO")
  largo                     String?  @map("LARGO")
  impuesto_interno          String?  @map("IMPUESTO_INTERNO")
  marca                     String?  @map("MARCA")
  raw_data                  String
  createdAt                 DateTime @default(now())
  updatedAt                 DateTime @updatedAt
}

model GrupoNucleoProduct {
  id          Int     @id @default(autoincrement())

  // âœ… ESTE ES EL ID REAL DE GRUPO NUCLEO
  item_id     Int     @unique

  codigo      String

  item_desc_0 String?
  item_desc_1 String?
  item_desc_2 String?

  marca       String?
  categoria   String?

  stock       String?
  precio      String?
  moneda      String?

  raw_data    String
  imageUrl    String?

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}


model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String?
  role      String   @default("admin")
  createdAt DateTime @default(now())
}

model TgsProduct {
  id        String   @id @default(uuid())
  sku       String   @unique
  nombre    String
  precio    Float
  stock     Int
  imagen    String?
  updatedAt DateTime @updatedAt
}


model ElitProduct {
  id                     Int      @id @default(autoincrement())
  elitId                 Int      @unique        // id (cÃ³digo Ãºnico ELIT)
  codigoAlfa             String?                  // codigo_alfa
  codigoProducto         String?                  // codigo_producto / SKU
  nombre                 String                   // nombre
  categoria              String?                  // categoria
  subCategoria           String?                  // sub_categoria
  marca                  String?                  // marca
  precio                 Decimal?                 // precio (costo sin impuestos)
  impuestoInterno        Decimal?                 // impuesto_interno
  iva                    Decimal?                 // iva
  moneda                 Int?                     // moneda (1: ARS, 2: USD)
  markup                 Decimal?                 // markup
  cotizacion             Decimal?                 // cotizacion
  pvpUsd                 Decimal?                 // pvp_usd
  pvpArs                 Decimal?                 // pvp_ars
  peso                   Float?                   // peso
  ean                    String?                  // ean
  nivelStock             String?                  // nivel_stock (bajo/alto)
  stockTotal             Int?                     // stock_total
  stockDepositoCliente   Int?                     // stock_deposito_cliente
  stockDepositoCd        Int?                     // stock_deposito_cd
  garantia               String?                  // garantia
  link                   String?                  // link
  gamer                  Boolean?                 // gamer
  creado                 DateTime?                // creado
  actualizado            DateTime?                // actualizado
  imagenesRaw            String?   // JSON/string con el array de "imagenes"
  miniaturasRaw          String?   // JSON/string con el array de "miniaturas"
  imageUrl               String?   // primera imagen usable

  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}


model DistributorConfig {
  id          Int      @id @default(autoincrement())
  distributor String   @unique 
  name        String   
  active      Boolean  @default(true)
  credentials String   
  
  // ðŸ‘‡ ESTOS SON LOS CAMPOS CLAVE
  lastSync    DateTime? 
  syncStats   String?   

  updatedAt   DateTime @updatedAt
}

model GamingCityProduct {
  id          String   @id @default(uuid())
  nombre      String
  precio      Float    // Precio en ARS con IVA (tal cual viene de la web)
  categoria   String?
  stock       Int      @default(100) // Asumimos stock si estÃ¡ publicado
  updatedAt   DateTime @updatedAt
}